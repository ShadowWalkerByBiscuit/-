目录：大概的看了这本书的目录，感觉东西多而且杂，很多东西看上去并不感兴趣，目前打算看到不感兴趣或者当前无法深入理解的，先跳过，先吸收能够供我使用的部门。  

innoDB：  
1-innoDB通过MVCC多版本控制来解决高并发，默认事物级别是RR(repeatable read),通过next-key来防止幻读（所以说单纯用gap锁来控制幻读是不准确的）。  
2-存储的形式是聚簇，所以默认是按照主键顺序存储的。如果没有指定primarKey那么会默认生产6字节的rowID作为主键。

MylSam：  
1-不支持事物，并且只支持表级别的锁，支持全文搜索。   

通过show engine innoDB status可以查看IOThread的情况。也可以发现死锁的情况。  

在具体操作之前，数据库都是先对日志进行操作，写完之后才具体执行事务，这样是对acid中的d，是具体实践。  

B+树的高度一般是3-4层，mysql默认数据单元是16kb，然后在根据每一条数据的大小就可以估算出来，3-4层的数据量单表已经是达到千万级别。  

所有日志默认都是不启动的，需要手动设置。日志默认是以主机名命名的，所以可以通过system host来查看当前主机名。 
mysql默认的日志有error log 错误日志，binlog用于主从复制，slow query log这就是通常说到的慢查询日志，还有查询日志文件log。  
这些日志的位置可以通过show variables like 'log_error'.   
慢查询日志通过设置参数low_query_time来判断，什么被认为是慢，默认是10.代表十秒钟。  
biglog记录了出show 跟select之外的命令情况。  
这些日志可以同步落地到硬盘，也可以缓存一部分后再到硬盘，那么肯定会出现宕机导致没有全部记录的问题，sync_binlog表示每写多少次缓存就同步到硬盘，
如果是1那么就是同步的形式落地到硬盘，那效率上面肯定就会有影响。  

主键：  
如果没有定义主键，则首先判断有没有非空唯一索引，如果有多个 则选取建立索引顺序第一个为主键，不是建表的第一个，如果没有则生成6直接的rowid作为主键。  

物理结构上，层次为：表空间->段->区->页  

建表的时候可以通过Enum限制字段的值，


看了一下，感觉看不进去。先暂且搁置一边吧。
